var API_URL="https://api.adsb.lol/0/me";window.adsblol_api_me={};function updateTable(){aircraft=document.getElementById("adsblol_api_me_aircraft"),aircraft.innerHTML=window.adsblol_api_me.global.aircraft,beast=document.getElementById("adsblol_api_me_beast"),beast.innerHTML=window.adsblol_api_me.global.beast,mlat=document.getElementById("adsblol_api_me_mlat"),mlat.innerHTML=window.adsblol_api_me.global.mlat,cells=["uuid","ms","kbps","connected_seconds","positions","messages_per_second","positions_per_second"];for(var e,t,s,o,n=0;n<window.adsblol_api_me.clients.beast.length;n++)if(s=window.adsblol_api_me.clients.beast[n],t=document.getElementById("adsblol_api_me_beast_table").rows[n+1],t)for(e=0;e<cells.length;e++)t.cells[e].innerHTML!=s[cells[e]]&&(t.cells[e].classList.add("adsblol_blink"),t.cells[e].innerHTML=s[cells[e]],e==0&&t.cells[e].classList.add("aloltooltiptext"));else{t=document.getElementById("adsblol_api_me_beast_table").insertRow(n+1);for(e=0;e<cells.length;e++)o=t.insertCell(e),o.innerHTML=s[cells[e]],e==0&&o.classList.add("aloltooltiptext")}for(;document.getElementById("adsblol_api_me_beast_table").rows.length>window.adsblol_api_me.clients.beast.length+1;)document.getElementById("adsblol_api_me_beast_table").deleteRow(window.adsblol_api_me.clients.beast.length+1);cells=["user","peer_count","bad_sync_timeout"];for(n=0;n<window.adsblol_api_me.clients.mlat.length;n++)if(s=window.adsblol_api_me.clients.mlat[n],t=document.getElementById("adsblol_api_me_mlat_table").rows[n+1],t)for(e=0;e<cells.length;e++)t.cells[e].innerHTML!=s[cells[e]]&&(t.cells[e].classList.add("adsblol_blink"),t.cells[e].innerHTML=s[cells[e]]);else{t=document.getElementById("adsblol_api_me_mlat_table").insertRow(n+1);for(e=0;e<cells.length;e++)o=t.insertCell(e),o.innerHTML=s[cells[e]],e==0&&o.classList.add("aloltooltiptext")}for(;document.getElementById("adsblol_api_me_mlat_table").rows.length>window.adsblol_api_me.clients.mlat.length+1;)document.getElementById("adsblol_api_me_mlat_table").deleteRow(window.adsblol_api_me.clients.mlat.length+1);window.adsblol_api_me.clients.mlat.length>0&&(document.getElementById("adsblol_api_me_mlat_table").classList.remove("d-none"),document.getElementById("adsblol_api_me_feeding_info").classList.remove("d-none"),document.getElementById("adsblol_api_me_footer").innerHTML="❤️"),window.adsblol_api_me.clients.beast.length>0&&(document.getElementById("adsblol_api_me_beast_table").classList.remove("d-none"),document.getElementById("adsblol_api_me_feeding_info").classList.remove("d-none"))}window.adsblol_api_me_update=function(){fetch(API_URL).then(e=>e.json()).then(e=>{window.adsblol_api_me=e,updateTable()})},document.addEventListener("DOMContentLoaded",function(){setInterval(window.adsblol_api_me_update,5e3),window.adsblol_api_me_update()})